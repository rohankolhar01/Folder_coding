'''\nCart model definition for the shopping cart system.\n'''\nfrom __future__ import annotations\n\nimport logging\nfrom typing import List\nfrom sqlalchemy import Column, Integer, ForeignKey, Float\nfrom sqlalchemy.orm import relationship, Mapped, mapped_column\nfrom backend.app.db.session import Base\n\nlogger = logging.getLogger(__name__)\n\nclass Cart(Base):\n    '''\n    Represents a shopping cart belonging to a user.\n    '''\n    __tablename__ = 'carts'\n\n    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)\n    user_id: Mapped[int | None] = mapped_column(Integer, ForeignKey('users.id'), nullable=True)\n\n    items: Mapped[List['CartItem']] = relationship('CartItem', back_populates='cart', cascade='all, delete-orphan')\n\nclass CartItem(Base):\n    '''\n    Represents an item in a shopping cart.\n    '''\n    __tablename__ = 'cart_items'\n\n    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)\n    cart_id: Mapped[int] = mapped_column(Integer, ForeignKey('carts.id'))\n    product_id: Mapped[int] = mapped_column(Integer, ForeignKey('products.id'))\n    quantity: Mapped[int] = mapped_column(Integer, default=1)\n    price: Mapped[float] = mapped_column(Float)\n\n    cart: Mapped['Cart'] = relationship('Cart', back_populates='items')\n\n    @property\n    def subtotal(self) -> float:\n        return self.price * self.quantity\n\n\nlogger.info('Cart models loaded successfully.')\n